<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
    <div>
        <input type="text" placeholder="Text to jumble" id="base-text" />
        <div id="output">
        </div>
    </div>
    <script>

        rFact = (num) => {
                if (num === 0) { return 1; }
                else { return num * rFact(num - 1); }
            }
        $(document).ready(function () {




            $("#base-text").on("change", (input) => {
                let val = $("#base-text").val().toUpperCase();
                let output = new Set();
                let guesses = 0;
                var output_count = 50;
                if(val.length == 0) {
                    output_count = 0;
                }
                else if(val.length < 5) {
                    output_count = rFact(val.length);
                }

                while (output.size < output_count && guesses <= output_count * 2) {
                    output.add(val.split('').sort(function () { return 0.5 - Math.random() }).join(''));
                    guesses++;
                }
                output = Array.from(output).map((val) => `<li>${val}</li>`).join('');
                $("#output").html(`<ol>${output}</ol>`);
            })

        });
    </script>
</body>

</html>